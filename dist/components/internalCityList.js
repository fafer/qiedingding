"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_util=require("./../utils/util.js"),InternalCityList=function(t){function e(){var t,i,n,r;_classCallCheck(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=n=_possibleConstructorReturn(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),n.data={position:"",citys:[],searchs:[],aside:[],toView:""},n.methods={initPosition:function(t){this.position=t},search:function(t){var i=this;if(""===t)return void(this.searchs=[]);e.searchTimeoutId&&clearTimeout(e.searchTimeoutId),e.searchTimeoutId=setTimeout(function(){var e=[];i.citys.forEach(function(i){-1!==i.cityId&&-1!==i.cityName.indexOf(t)&&e.push(i)}),i.searchs=e,i.$apply()},50)},go:function(t){(0,_util.openInternalApp)("pages/index/index?cityId="+t.cityId+"&dispCityId="+t.dispCityId+"&cityName="+t.cityName)},scrollTo:function(t){this.toView=t?"internal-list-"+t.cityName:""},init:function(){e.inited||(this.getCityData(),e.inited=!0)}},r=i,_possibleConstructorReturn(n,r)}return _inherits(e,t),_createClass(e,[{key:"getCityData",value:function(){var t=this;(0,_util.request)("https://wxapp.58.com/load/city").then(function(e){0===e.code&&(t.citys=JSON.parse(e.data),t.aside=t.citys.filter(function(t){return-1===t.cityId}),t.$apply())})}}]),e}(_wepy2.default.component);InternalCityList.searchTimeoutId="",InternalCityList.inited=!1,exports.default=InternalCityList;